<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="Client.shop.StoreController"
            stylesheets="@styles.css"
            prefWidth="1215" prefHeight="700"
            style="-fx-font-family: 'Microsoft YaHei', 'Segoe UI', Tahoma, Arial; -fx-background-color: #f0f4f8;">

    <left>
        <VBox fx:id="menuBar" spacing="12" prefWidth="200"
              style="-fx-background-color: linear-gradient(#1a237e, #0d1b54); -fx-background-radius: 8;">
            <padding>
                <Insets top="12" right="12" bottom="12" left="12"/>
            </padding>

            <Label text="智慧商店" style="-fx-text-fill: white; -fx-font-size: 20;">
                <font>
                    <Font name="Microsoft YaHei" size="20"/>
                </font>
            </Label>

            <Button fx:id="storeButton" text="商店" maxWidth="Infinity" prefHeight="44"
                    style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14;"
                    onAction="#showStoreView"/>

            <Button fx:id="cartButton" text="购物车" maxWidth="Infinity" prefHeight="44"
                    style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14;"
                    onAction="#showCartView"/>

            <VBox VBox.vgrow="ALWAYS"/>
        </VBox>
    </left>

    <center>
        <StackPane fx:id="contentArea" style="-fx-padding: 10;">
            <!-- 商店视图 -->
            <VBox fx:id="storeContainer" visible="false">
                <HBox spacing="12" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-background-radius: 8;">
                    <padding>
                        <Insets top="12" right="12" bottom="12" left="12"/>
                    </padding>

                    <Label text="商品列表" style="-fx-font-size: 20;"/>

                    <Region HBox.hgrow="ALWAYS"/>

                    <HBox spacing="8" alignment="CENTER_LEFT">
                        <TextField fx:id="searchField" promptText="搜索书名或描述..." prefWidth="360"/>
                        <Button text="搜索" style="-fx-background-color: #2d9cdb; -fx-text-fill: white; -fx-background-radius: 6;"
                                onAction="#filterItems"/>
                    </HBox>
                </HBox>

                <ScrollPane fx:id="itemsContainer" fitToWidth="true" hbarPolicy="NEVER">
                    <FlowPane fx:id="itemsFlow" hgap="16" vgap="16" padding="12"/>
                </ScrollPane>
            </VBox>

            <!-- 购物车视图 -->
            <VBox fx:id="cartContainer" visible="false" style="-fx-background-color: white; -fx-background-radius: 8;">
                <padding>
                    <Insets top="12" right="12" bottom="12" left="12"/>
                </padding>
            </VBox>

            <!-- 商品详情视图 -->
            <VBox fx:id="itemDetailContainer" visible="false" style="-fx-background-color: white; -fx-background-radius: 8;">
                <padding>
                    <Insets top="12" right="12" bottom="12" left="12"/>
                </padding>
            </VBox>
        </StackPane>
    </center>
</BorderPane>
